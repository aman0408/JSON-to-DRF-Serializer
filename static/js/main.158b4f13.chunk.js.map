{"version":3,"sources":["components/Input/Input.js","components/DRF/DRF.js","util/parseJSONToDRF.js","components/Button/Button.js","components/JSON/JSON.js","App.js","reportWebVitals.js","index.js"],"names":["TextArea","height","this","props","value","Math","min","split","length","maxLines","placeHolder","classes","error","push","title","className","join","style","placeholder","readOnly","onChange","e","index","onKeyDown","key","preventDefault","target","selectionStart","selectionEnd","substring","Component","DRFSide","formatDRFField","field_type","required","nullable","tab","string","tab_separator","equals","includes","parseJSONToDRF","arr","response","key_types","i","count","type","isPossible","data","addRequiredKey","createKeyToTypesObject","a","Button","onClick","disabled","JSONSide","initialInput","maxInputCount","onJSONInputChange","JSONInputs","state","inputs","val","newInput","replace","setState","JSON","parse","addJSONInput","serialize","perpareData","undefined","onSerializeCallback","map","input","idx","marginTop","float","App","useState","DRFValue","setDRFValue","borderRight","DRF","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.158b4f13.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport './Style.css'\r\n\r\nclass TextArea extends Component {\r\n\r\n    render() {\r\n        const height = this.props.value ? \r\n            Math.min(this.props.value.split(\"\\n\").length, this.props.maxLines) + 1 : \r\n            Math.min(this.props.placeHolder.split(\"\\n\").length, this.props.maxLines) + 1;\r\n        let classes = []\r\n        if (this.props.error)\r\n            classes.push(\"has-error\")\r\n        return (\r\n            <div>\r\n                <h3>{this.props.title}</h3>\r\n                <textarea className={classes.join(\" \")}\r\n                    style={{height: height * 20 + \"px\" }}\r\n                    placeholder={this.props.placeHolder}\r\n                    readOnly={this.props.readOnly}\r\n                    onChange={(e) => {this.props.onChange(e, this.props.index);} } \r\n                    onKeyDown={ (e) => {\r\n                        if(e.key === \"Tab\") {\r\n                            e.preventDefault();\r\n                            const {selectionStart, selectionEnd} = e.target;\r\n                            e.target.value = e.target.value.substring(0, selectionStart) + \"\\t\" + e.target.value.substring(selectionEnd)\r\n                            this.props.onChange(e, this.props.index);\r\n                        }\r\n                    }}\r\n                    value={this.props.value} \r\n                />\r\n                <small className=\"error\">{this.props.error}</small>\r\n            </div>\r\n        ) \r\n    }\r\n\r\n}\r\n\r\nexport default TextArea","import { Component } from \"react\";\r\nimport TextArea from \"../Input/Input\";\r\n\r\n\r\nclass DRFSide extends Component {\r\n\r\n    placeHolder = `from rest_framework import serializers\\n\\nclass NameSerializer(serializers.Serializer):\\n\\tname = serializers.CharField(required=True)`;\r\n\r\n    render() {\r\n        return (\r\n            <TextArea\r\n                value={this.props.value}\r\n                readOnly={true}\r\n                title={\"DRF Serializer\"}\r\n                placeHolder={this.placeHolder}\r\n                maxLines={80}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default DRFSide;","function createKeyToTypesObject(arr) {\r\n\r\n    let key_types = {}\r\n\r\n    for (const i in arr) {\r\n        for (const key in arr[i]) {\r\n\r\n            if (key in key_types) {\r\n                key_types[key].count += 1;\r\n                if (typeof (arr[i][key]) === key_types[key].type) {\r\n                    if (arr[i][key] === null)\r\n                        key_types[key].nullable = true;\r\n                } else if (arr[i][key] === null) {\r\n                    key_types[key].nullable = true;\r\n                } else {\r\n                    return {\r\n                        isPossible: false,\r\n                        data: \"JSON cannot be converted to DRF as \" + \"\\'\" + key + \"\\'\" + \" field is of varying types.\"\r\n                    }\r\n                }\r\n            } else {\r\n                key_types[key] = {\r\n                    type: typeof (arr[i][key]),\r\n                    count: 1,\r\n                    nullable: false\r\n                };\r\n            }\r\n\r\n        }\r\n    }\r\n    return addRequiredKey(arr, key_types);\r\n}\r\n\r\nfunction addRequiredKey(arr, key_types) {\r\n    let count = arr.length;\r\n\r\n    for (const key in key_types) {\r\n        if (key_types[key].count === count) {\r\n            key_types[key].required = true;\r\n        } else {\r\n            key_types[key].required = false;\r\n        }\r\n    }\r\n\r\n    return {\r\n        isPossible: true,\r\n        data: key_types\r\n    };\r\n}\r\n\r\nfunction formatDRFField(key, field_type, required, nullable, tab = true) {\r\n\r\n    let string = \"\";\r\n    let tab_separator = tab ? \"\\t\" : \"  \";\r\n    let equals = \" =\"\r\n\r\n    if (field_type.includes(\"Boolean\")) {\r\n        if (!required) {\r\n            string += tab_separator + key + equals + field_type + \"(required=False)\\n\";\r\n        } else\r\n            string += tab_separator + key + equals + field_type + \"()\\n\";\r\n    } else {\r\n        string += tab_separator + key + equals + field_type;\r\n\r\n        if (nullable && !required) {\r\n            string += \"(required=False, allow_null=True)\\n\";\r\n        } else if (nullable && required) {\r\n            string += \"(allow_null=True)\\n\";\r\n        } else {\r\n            string += \"()\\n\";\r\n        }\r\n    }\r\n\r\n    return string;\r\n}\r\n\r\nfunction parseJSONToDRF(arr) {\r\n    let response = createKeyToTypesObject(arr);\r\n\r\n    let isPossible = response.isPossible;\r\n\r\n    if (!isPossible)\r\n        return response.data;\r\n    \r\n    const key_types = response.data;\r\n\r\n    let string = \"from rest_framework import serializers\\n\\nclass ExampleSerializer(serializers.Serializer):\\n\";\r\n\r\n    for (const key in key_types) {\r\n\r\n        let required = key_types[key].required;\r\n        let nullable = key_types[key].nullable;\r\n        let field_type = typeof (\"abc\");\r\n\r\n        if (key_types[key].type === typeof (true)) {\r\n\r\n            if (nullable) {\r\n                field_type = \" serializers.NullBooleanField\"\r\n            } else {\r\n                field_type = \" serializers.BooleanField\"\r\n            }\r\n        }\r\n        if (key_types[key].type === typeof (1)) {\r\n\r\n            field_type = \" serializers.IntegerField\"\r\n        }\r\n        if (key_types[key].type === typeof (1.1)) {\r\n\r\n            field_type = \" serializers.FloatField\"\r\n        }\r\n        if (key_types[key].type === typeof (\"abc\")) {\r\n\r\n            field_type = \" serializers.CharField\"\r\n        }\r\n        if (key_types[key].type === typeof ({\r\n            a: 1\r\n        })) {\r\n\r\n            field_type = \" serializers.JSONField\"\r\n        }\r\n        if (key_types[key].type === typeof ([12, 1])) {\r\n\r\n            field_type = \" serializers.ListField\"\r\n        }\r\n        string += formatDRFField(key, field_type, required, nullable);\r\n    }\r\n\r\n    return string\r\n\r\n}\r\n\r\nexport default parseJSONToDRF;","import { Component } from \"react\";\r\nimport './Style.css';\r\n\r\nclass Button extends Component {\r\n    render() {\r\n        return ( \r\n            <button style={{...this.props.style}}\r\n                onClick={this.props.onClick}\r\n                disabled={this.props.disabled}\r\n            >\r\n                {this.props.title}\r\n            </button>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Button;","import { Component } from \"react\";\r\nimport parseJSONToDRF from \"../../util/parseJSONToDRF\";\r\nimport Button from \"../Button/Button\";\r\nimport TextArea from \"../Input/Input\";\r\n\r\nclass JSONSide extends Component {\r\n\r\n    placeHolder = `{\\n\\t\"name\": \"John Doe\"\\n}`;\r\n    initialInput = {\r\n        value: \"\",\r\n        error: \"\"\r\n    };\r\n    maxInputCount = 5;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state =  {\r\n            inputs: [{\r\n                value: \"\",\r\n                error: \"\"\r\n            }]\r\n        };\r\n    }\r\n\r\n    onJSONInputChange = (e, key) => {\r\n        let JSONInputs = this.state.inputs;\r\n        let val = e.target.value;\r\n        let newInput = {\r\n            value: val,\r\n            error: \"\"\r\n        };\r\n        val.replace(\"\\n\", \"\");\r\n        val.replace(\"\\t\", \"\");\r\n        this.setState({\r\n            inputs: JSONInputs\r\n        });\r\n        try {\r\n            JSON.parse(val);\r\n        } catch {\r\n            newInput.error = \"Invalid JSON\";\r\n        }\r\n        JSONInputs[key] = newInput;\r\n        this.setState({\r\n            inputs: JSONInputs\r\n        })\r\n    }\r\n\r\n    addJSONInput = () => {\r\n        let inputs = this.state.inputs;\r\n        if (inputs.length >= this.maxInputCount) return;\r\n        inputs.push(this.initialInput);\r\n        this.setState({\r\n            inputs: inputs\r\n        })\r\n    }\r\n\r\n    serialize = () => {\r\n        const data = this.perpareData();\r\n        if (data === undefined) {\r\n            return;\r\n        }\r\n        const val = parseJSONToDRF(data);\r\n        this.props.onSerializeCallback(val);\r\n    }\r\n\r\n    perpareData = () => {\r\n        let data = [];\r\n        for(let i=0; i<this.state.inputs.length; ++i) {\r\n            try {\r\n                let val = JSON.parse(this.state.inputs[i].value);\r\n                data.push(val);\r\n            } catch {\r\n                return undefined\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {\r\n                this.state.inputs.map((input, idx) => (\r\n                    <TextArea \r\n                        value={input.value}\r\n                        placeHolder={this.placeHolder}\r\n                        error={input.error}\r\n                        key={idx}\r\n                        index={idx}\r\n                        title={`Sample JSON #${idx + 1}`}\r\n                        onChange={this.onJSONInputChange}\r\n                        maxLines={20}\r\n                    />\r\n                ))\r\n            }\r\n            <Button \r\n                style={{marginTop: 10}}\r\n                onClick={this.addJSONInput}\r\n                title={\" + Add Another JSON\"}\r\n                disabled={this.state.inputs.length >= this.maxInputCount }\r\n            />\r\n            <Button\r\n                style={{marginTop: 10, float: \"right\"}}\r\n                title={\"To Serializer\"}\r\n                onClick={this.serialize}\r\n            />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default JSONSide;","import { useState } from 'react';\r\nimport './App.css';\r\nimport DRFSide from './components/DRF/DRF';\r\nimport JSONSide from './components/JSON/JSON';\r\n\r\nfunction App() {\r\n\r\n  const [DRFValue, setDRFValue] = useState(\"\");\r\n\r\n  const onSerializeCallback = (val) => {\r\n    setDRFValue(val)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"row\">\r\n        <div className=\"col col-half col-fs\" style={{borderRight: \"1px solid #5C5C5C\"}}>\r\n          <JSONSide onSerializeCallback={onSerializeCallback}/>\r\n        </div>\r\n        <div className=\"col col-half col-fs\">\r\n          <DRFSide value={DRFValue}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}